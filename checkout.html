<!DOCTYPE html>
<html lang="en" class="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - Rentora</title>
  <link rel="stylesheet" href="style.css">
  <script>
    // Theme blocking script (same as other pages)
    (function(){
      const theme = localStorage.getItem('rentora_theme') || 
                   (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      if(theme === 'dark') document.documentElement.classList.add('dark');
    })();
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <!-- Header -->
  <header class="site-header">
  <div class="container nav">
    <a class="brand" href="index.html"><span>Rentora</span></a>
    <nav>
      <ul class="nav-links" style="list-style-type: none;">
        <li><a href="products.html">Products</a></li>
        <li><a href="categories.html">Categories</a></li>
        <li><a href="cart.html">Cart</a></li>
        <li><a href="contact.html">Contact</a></li>
        <!--  ye dynamic hoga (Login/Signup ya Avatar) -->
        <li id="auth-link"><a href="login.html">Login / Signup</a></li>
      </ul>
    </nav>

    <button class="hamburger" id="hamburger" aria-label="Menu">☰</button>
    <div class="user-dropdown" id="user-dropdown-container">
      <button class="user-dropdown-btn" aria-label="User menu">
        <i class="fas fa-user-circle"></i>
      </button>
      <div class="dropdown-menu">
        <a href="rentals.html">My Rentals</a>
        <a href="#" id="logout-btn">Logout</a>
      </div>
    </div>
    <label class="switch" id="themeToggle" aria-label="Toggle theme" style="margin-right: 20px;">
      <span class="sun"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="#ffd43b"><circle r="5" cy="12" cx="12"></circle><path d="m21 13h-1a1 1 0 0 1 0-2h1a1 1 0 0 1 0 2zm-17 0h-1a1 1 0 0 1 0-2h1a1 1 0 0 1 0 2zm13.66-5.66a1 1 0 0 1-.66-.29 1 1 0 0 1 0-1.41l.71-.71a1 1 0 1 1 1.41 1.41l-.71.71a1 1 0 0 1-.75.29zm-12.02 12.02a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.41l.71-.66a1 1 0 0 1 1.41 1.41l-.71.71a1 1 0 0 1-.7.24zm6.36-14.36a1 1 0 0 1-1-1v-1a1 1 0 0 1 2 0v1a1 1 0 0 1-1 1zm4.64 4.64a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.41l.71-.71a1 1 0 1 1 1.41 1.41l-.71.71a1 1 0 0 1-.7.29zm-16.02 0a1 1 0 0 1-.71-.29l-.71-.71a1 1 0 0 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41 1 1 0 0 1-.7.29zm14.02 12.02a1 1 0 0 1-.7-.29l-.71-.71a1 1 0 0 1 1.41-1.41l.71.71a1 1 0 0 1 0 1.41 1 1 0 0 1-.71.29zm1-6.02a1 1 0 0 1-1-1v-1a1 1 0 0 1 2 0v1a1 1 0 0 1-1 1z"></path></g></svg></span>
      <span class="moon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="m223.5 32c-123.5 0-223.5 100.3-223.5 224s100 224 223.5 224c60.6 0 115.5-24.2 155.8-63.4 5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6-96.9 0-175.5-78.8-175.5-176 0-65.8 36-123.1 89.3-153.3 6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path></svg></span>    
      <input type="checkbox" class="input">
      <span class="slider"></span>
    </label>
  </div>
</header>

  <main class="checkout-page">
    <div class="container">
      <h1 class="page-title">Checkout</h1>
      <form id="checkoutForm" class="checkout-form">
        <div class="checkout-section">
          <h2>Shipping Information</h2>
          <div class="form-group">
            <label for="fullName">Full Name</label>
            <input type="text" id="fullName" name="fullName" required>
          </div>
          <div class="form-group">
            <label for="address">Address</label>
            <input type="text" id="address" name="address" required>
          </div>
          <div class="form-group">
            <label for="city">City</label>
            <input type="text" id="city" name="city" required>
          </div>
          <div class="form-group">
            <label for="zipCode">Zip Code</label>
            <input type="text" id="zipCode" name="zipCode" required>
          </div>
          <div class="form-group">
            <label for="country">Country</label>
            <input type="text" id="country" name="country" value="India" required>
          </div>
        </div>

        <div class="checkout-section">
          <h2>Payment Method</h2>
          <div class="payment-options">
            <label class="payment-option">
              <input type="radio" name="payment" value="card" checked>
              Credit/Debit Card
            </label>
            <label class="payment-option">
              <input type="radio" name="payment" value="upi">
              UPI
            </label>
          </div>
          <div id="cardDetails" class="payment-details">
            <div class="form-group">
              <label for="cardNumber">Card Number</label>
              <input type="text" id="cardNumber" name="cardNumber" placeholder="XXXX XXXX XXXX XXXX" required>
            </div>
            <div class="form-group half-width">
              <label for="expDate">Expiry Date</label>
              <input type="text" id="expDate" name="expDate" placeholder="MM/YY" required>
            </div>
            <div class="form-group half-width">
              <label for="cvv">CVV</label>
              <input type="text" id="cvv" name="cvv" placeholder="XXX" required>
            </div>
          </div>
          <div id="upiDetails" class="payment-details" style="display: none;">
            <div class="form-group">
              <label for="upiId">UPI ID</label>
              <input type="text" id="upiId" name="upiId" placeholder="yourname@bankupi" required>
            </div>
          </div>
        </div>

        <div class="checkout-section order-summary-section">
          <h2>Order Summary</h2>
          <div id="orderItems" class="order-items">
            <!-- Cart items will be loaded here by JavaScript -->
          </div>
          <div class="order-totals">
            <div class="total-row">
              <span>Subtotal:</span>
              <span id="subtotal">₹0</span>
            </div>
            <div class="total-row">
              <span>Shipping:</span>
              <span id="shipping">₹0</span>
            </div>
            <div class="total-row">
              <span>Tax (18%):</span>
              <span id="tax">₹0</span>
            </div>
            <div class="total-row grand-total">
              <span>Total:</span>
              <span id="total">₹0</span>
            </div>
          </div>
          <button type="submit" class="btn btn-primary btn-block">Place Order</button>
        </div>
      </form>
    </div>
  </main>

  <!-- Success Modal -->
  <div id="successModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Order Placed Successfully!</h2>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="success-icon">
          <i class="fas fa-check-circle"></i>
        </div>
        <p>Thank you for your order! Your order has been placed successfully.</p>
        <p>Order ID: <strong id="orderId">RENTORA-XXXXXX</strong></p>
        <p>We'll send you a confirmation email with the order details.</p>
      </div>
      <div class="modal-footer">
        <a href="index.html" class="btn btn-primary">Back to Home</a>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <h4>Rentora</h4>
        <p>India's favourite rental platform.</p>
      </div>
      <div>
        <h4>Links</h4>
        <ul>
          <li><a href="products.html">Products</a></li>
          <li><a href="categories.html">Categories</a></li>
          <li><a href="rentals.html">My Rentals</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>
      <div>
        <h4>Newsletter</h4>
        <form class="newsletter" onsubmit="event.preventDefault(); alert('Subscribed!');">
          <input type="email" placeholder="Enter your email" required>
          <button class="btn">Subscribe</button>
        </form>
      </div>
    </div>
    <div class="container footer-bottom">
      <p>© <span id="year"></span> Rentora. All rights reserved.</p>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
    // Checkout specific JavaScript
    document.addEventListener('DOMContentLoaded', function() {
      // Set current year in footer
      document.getElementById('year').textContent = new Date().getFullYear();
      
      // Handle payment method toggle
      const paymentMethods = document.querySelectorAll('input[name="payment"]');
      const cardDetails = document.getElementById('cardDetails');
      const upiDetails = document.getElementById('upiDetails');
      
      paymentMethods.forEach(method => {
        method.addEventListener('change', function() {
          cardDetails.style.display = this.value === 'card' ? 'block' : 'none';
          upiDetails.style.display = this.value === 'upi' ? 'block' : 'none';
        });
      });
      
      // Load cart items
      loadOrderSummary();
      
      // Handle form submission
      const checkoutForm = document.getElementById('checkoutForm');
      if (checkoutForm) {
        checkoutForm.addEventListener('submit', function(e) {
          e.preventDefault();
          processOrder();
        });
      }
      
      // Close modal
      const closeModal = document.querySelector('.close-modal');
      if (closeModal) {
        closeModal.addEventListener('click', function() {
          document.getElementById('successModal').style.display = 'none';
        });
      }
      
      // Close modal when clicking outside
      window.addEventListener('click', function(e) {
        const modal = document.getElementById('successModal');
        if (e.target === modal) {
          modal.style.display = 'none';
        }
      });
    });
    
    function loadOrderSummary() {
      const cart = JSON.parse(localStorage.getItem('rentora_cart') || '[]');
      const orderItems = document.getElementById('orderItems');
      let subtotal = 0;
      
      if (cart.length === 0) {
        orderItems.innerHTML = '<p>Your cart is empty</p>';
        return;
      }
      
      orderItems.innerHTML = '';
      
      cart.forEach(item => {
        const days = item.days || 1;
        const itemTotal = item.price * item.qty * days;
        subtotal += itemTotal;
        
        const itemEl = document.createElement('div');
        itemEl.className = 'order-item';
        itemEl.innerHTML = `
          <div class="order-item-details">
            <h4>${item.title} <span class="qty">×${item.qty}</span></h4>
            <p>${days} day${days > 1 ? 's' : ''} rental</p>
          </div>
          <div class="order-item-price">₹${itemTotal}</div>
        `;
        orderItems.appendChild(itemEl);
      });
      
      const shipping = subtotal > 0 ? 19 : 0;
      const tax = Math.round(subtotal * 0.18);
      const total = subtotal + shipping + tax;
      
      document.getElementById('subtotal').textContent = `₹${subtotal}`;
      document.getElementById('shipping').textContent = `₹${shipping}`;
      document.getElementById('tax').textContent = `₹${tax}`;
      document.getElementById('total').textContent = `₹${total}`;
    }
    
    function processOrder() {
      // In a real app, you would send this data to your server
      const orderId = 'RENTORA-' + Math.floor(100000 + Math.random() * 900000);
      document.getElementById('orderId').textContent = orderId;
      
      // Show success modal
      document.getElementById('successModal').style.display = 'flex';
      
      // Clear cart
      localStorage.removeItem('rentora_cart');
      
      // Update cart count
      const cartCount = document.querySelector('.cart-count');
      if (cartCount) cartCount.textContent = '0';
    }
  </script>
</body>
</html>


